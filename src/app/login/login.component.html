<h1 id="title" class="title">Login</h1>
<p class="sub-title">Hello! Log in with your Email.</p>
<!-- <nb-card status="success">
  <nb-card-header>Login Here</nb-card-header>
  <nb-card-body> -->
    <div class="form-control-group">
      <div>
        <img
          id="profile-img"
          src="//ssl.gstatic.com/accounts/ui/avatar_2x.png"
          class="profile-img-card"
        />

        <form
          *ngIf="!isLoggedIn"
          name="form"
          (ngSubmit)="f.form.valid && onSubmit()"
          #f="ngForm"
          novalidate
        >
        <div class="form-group">
          <div class="alert alert-danger"  *ngIf="f.submitted && isLoginFailed" >
            Login failed : {{ errorMessage }}
          </div>
        </div>
          <div class="form-control-group">
            <label for="username" class="label" style="font-size: medium;">
              Email 
            </label>  
            <input
              type="text"
              class="form-control"
              name="username"
              [(ngModel)]="form.username"
              #username="ngModel"
              email
              nbInput  fullWidth
              placeholder="Email"
             fieldSize="large"
             pattern ="^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$"
             [class.is-invalid]="username.invalid && username.touched" 
             required
            />
              
            <div *ngIf=" username.invalid && (username.dirty || username.touched)"
            style="height: 30px; padding-top: 3px; padding-left: 5px; margin-top: 3px; color: red;" >
        
            <span class="text-danger" *ngIf="username.errors.required">Email is required</span>
            <span class="text-danger" *ngIf="username.errors.pattern">Enter a valid email format-"xxx@example.com"</span>
            </div>
          </div>
          <div class="form-control-group">
            <label for="password" style="font-size: medium;" class="label">Password</label>
            <input
              type="password"
              class="form-control"
              name="password"
              [(ngModel)]="form.password"
              required
              minlength="6"
              #password="ngModel"
              nbInput  fullWidth
              placeholder="Password"
             fieldSize="large"
             [class.is-invalid]="password.invalid && password.touched" 
            />     
            <div *ngIf=" password.invalid && (password.dirty || password.touched)"
           style="height: 30px; padding-top: 3px; padding-left: 5px; margin-top: 3px; color: red;" >
        
            <span class="text-danger" *ngIf="password.errors.required">Password is required</span>
            <span class="text-danger" *ngIf="password.errors.minlength">Minimun length for password is 6</span>
            </div>
          </div>
            <button  nbButton
            fullWidth
            status="primary"
            size="large"
            [class.btn-pulse]="submitted">
              Login
            </button>
            <div class="row" style="padding-top: 25px;">
              <div class="col-md-6">
                <a href="/auth/register"  status="primary" routerLink="/auth/register">Sign Up</a>
              </div>
            </div>
            <div class="row" style="padding-top: 25px; padding-left: 45%; ">

            <div class="col-md-6">
              <a href="#"  status="primary" routerLink="/oauth2"><img style="text-align: center; width: 50px;" src="../../assets/images/google-icon.svg" alt=""></a>
            </div>
          </div>

        </form>
        <div class="alert alert-success" *ngIf="isLoggedIn">
          Logged in as {{ roles }}.
          <li class="">
            <a href  (click)="logout()">LogOut</a>
          </li>
        </div>
      </div>
    </div>
  <!-- </nb-card-body>
</nb-card> -->


